2022-05-23 14:19:37.667 | INFO     | __main__:server:72 - 启动服务：192.168.23.1:52854
2022-05-23 14:19:37.674 | INFO     | __main__:server:75 - 服务注册开始
2022-05-23 14:19:37.688 | INFO     | __main__:server:82 - 服务注册成功
2022-05-23 15:06:28.680 | ERROR    | grpc._server:_call_behavior:443 - An error has been caught in function '_call_behavior', process 'MainProcess' (10552), thread 'ThreadPoolExecutor-0_8' (5144):
Traceback (most recent call last):

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001EBE893FAF8>
    └ <Thread(ThreadPoolExecutor-0_8, started daemon 5144)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001EBE893F8B8>
    └ <Thread(ThreadPoolExecutor-0_8, started daemon 5144)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_8, started daemon 5144)>
    │    │        │    └ (<weakref at 0x000001EBEB5E1EA8; to 'ThreadPoolExecutor' at 0x000001EBEB4408C8>, <_queue.SimpleQueue object at 0x000001EBEB43...
    │    │        └ <Thread(ThreadPoolExecutor-0_8, started daemon 5144)>
    │    └ <function _worker at 0x000001EBEB4448B8>
    └ <Thread(ThreadPoolExecutor-0_8, started daemon 5144)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x000001EBEB4449D8>
    └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB706448>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB706448>
             │    │   │    └ [<grpc._cython.cygrpc.RequestCallEvent object at 0x000001EBEB700A98>, <grpc._server._RPCState object at 0x000001EBEB706988>, ...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB706448>
             │    └ <function _unary_response_in_pool at 0x000001EBEB4780D8>
             └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB706448>

  File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 561, in _unary_response_in_pool
    argument, request_deserializer)
    │         └ <built-in method FromString of GeneratedProtocolMessageType object at 0x000001EBEA851308>
    └

> File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 443, in _call_behavior
    response_or_iterator = behavior(argument, context)
                           │        │         └ <grpc._server._Context object at 0x000001EBEB447608>
                           │        └ 
                           └ <bound method GoodsServicer.GetAllCategorysList of <goods_srv.handler.goods.GoodsServicer object at 0x000001EBEB440D08>>

  File "D:\PythonProjects\shop\goods_srv\handler\goods.py", line 250, in GetAllCategorysList
    category_rsp.parentCategory = category.parent_category_id
    │            │                │        └ <peewee.ForeignKeyAccessor object at 0x000001EBEB13D508>
    │            │                └ <Category: 136678>
    │            └ <field property 'CategoryInfoResponse.parentCategory'>
    └ id: 136678
      name: "\347\214\252\350\202\211"

TypeError: <Category: 135200> has type Category, but expected one of: int, long
2022-05-23 15:06:34.926 | ERROR    | grpc._server:_call_behavior:443 - An error has been caught in function '_call_behavior', process 'MainProcess' (10552), thread 'ThreadPoolExecutor-0_6' (13160):
Traceback (most recent call last):

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001EBE893FAF8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001EBE893F8B8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>
    │    │        │    └ (<weakref at 0x000001EBEB5E1278; to 'ThreadPoolExecutor' at 0x000001EBEB4408C8>, <_queue.SimpleQueue object at 0x000001EBEB43...
    │    │        └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>
    │    └ <function _worker at 0x000001EBEB4448B8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x000001EBEB4449D8>
    └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB447E08>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB447E08>
             │    │   │    └ [<grpc._cython.cygrpc.RequestCallEvent object at 0x000001EBEB5AF958>, <grpc._server._RPCState object at 0x000001EBEB447608>, ...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB447E08>
             │    └ <function _unary_response_in_pool at 0x000001EBEB4780D8>
             └ <concurrent.futures.thread._WorkItem object at 0x000001EBEB447E08>

  File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 561, in _unary_response_in_pool
    argument, request_deserializer)
    │         └ <built-in method FromString of GeneratedProtocolMessageType object at 0x000001EBEA851308>
    └

> File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 443, in _call_behavior
    response_or_iterator = behavior(argument, context)
                           │        │         └ <grpc._server._Context object at 0x000001EBEBF5DAC8>
                           │        └ 
                           └ <bound method GoodsServicer.GetAllCategorysList of <goods_srv.handler.goods.GoodsServicer object at 0x000001EBEB440D08>>

  File "D:\PythonProjects\shop\goods_srv\handler\goods.py", line 250, in GetAllCategorysList
    category_rsp.parentCategory = category.parent_category_id
    │            │                │        └ <peewee.ForeignKeyAccessor object at 0x000001EBEB13D508>
    │            │                └ <Category: 136678>
    │            └ <field property 'CategoryInfoResponse.parentCategory'>
    └ id: 136678
      name: "\347\214\252\350\202\211"

TypeError: <Category: 135200> has type Category, but expected one of: int, long
2022-05-23 15:06:51.850 | ERROR    | grpc._server:_call_behavior:443 - An error has been caught in function '_call_behavior', process 'MainProcess' (10552), thread 'ThreadPoolExecutor-0_0' (11480):
Traceback (most recent call last):

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001EBE893FAF8>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 11480)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001EBE893F8B8>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 11480)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 11480)>
    │    │        │    └ (<weakref at 0x000001EBEB5AFE08; to 'ThreadPoolExecutor' at 0x000001EBEB4408C8>, <_queue.SimpleQueue object at 0x000001EBEB43...
    │    │        └ <Thread(ThreadPoolExecutor-0_0, started daemon 11480)>
    │    └ <function _worker at 0x000001EBEB4448B8>
    └ <Thread(ThreadPoolExecutor-0_0, started daemon 11480)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x000001EBEB4449D8>
    └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF75108>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF75108>
             │    │   │    └ [<grpc._cython.cygrpc.RequestCallEvent object at 0x000001EBEBF64D18>, <grpc._server._RPCState object at 0x000001EBEBF751C8>, ...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF75108>
             │    └ <function _unary_response_in_pool at 0x000001EBEB4780D8>
             └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF75108>

  File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 561, in _unary_response_in_pool
    argument, request_deserializer)
    │         └ <built-in method FromString of GeneratedProtocolMessageType object at 0x000001EBEA851308>
    └

> File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 443, in _call_behavior
    response_or_iterator = behavior(argument, context)
                           │        │         └ <grpc._server._Context object at 0x000001EBEBF755C8>
                           │        └ 
                           └ <bound method GoodsServicer.GetAllCategorysList of <goods_srv.handler.goods.GoodsServicer object at 0x000001EBEB440D08>>

  File "D:\PythonProjects\shop\goods_srv\handler\goods.py", line 250, in GetAllCategorysList
    category_rsp.parentCategory = category.parent_category_id
    │            │                │        └ <peewee.ForeignKeyAccessor object at 0x000001EBEB13D508>
    │            │                └ <Category: 136678>
    │            └ <field property 'CategoryInfoResponse.parentCategory'>
    └ id: 136678
      name: "\347\214\252\350\202\211"

TypeError: <Category: 135200> has type Category, but expected one of: int, long
2022-05-23 15:08:02.803 | ERROR    | grpc._server:_call_behavior:443 - An error has been caught in function '_call_behavior', process 'MainProcess' (10552), thread 'ThreadPoolExecutor-0_6' (13160):
Traceback (most recent call last):

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 890, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001EBE893FAF8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 926, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x000001EBE893F8B8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>
    │    │        │    └ (<weakref at 0x000001EBEB5E1278; to 'ThreadPoolExecutor' at 0x000001EBEB4408C8>, <_queue.SimpleQueue object at 0x000001EBEB43...
    │    │        └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>
    │    └ <function _worker at 0x000001EBEB4448B8>
    └ <Thread(ThreadPoolExecutor-0_6, started daemon 13160)>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 80, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x000001EBEB4449D8>
    └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF7C188>

  File "C:\Users\admin\AppData\Local\Programs\Python\Python37\lib\concurrent\futures\thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF7C188>
             │    │   │    └ [<grpc._cython.cygrpc.RequestCallEvent object at 0x000001EBEBF62C78>, <grpc._server._RPCState object at 0x000001EBEBF82E88>, ...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF7C188>
             │    └ <function _unary_response_in_pool at 0x000001EBEB4780D8>
             └ <concurrent.futures.thread._WorkItem object at 0x000001EBEBF7C188>

  File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 561, in _unary_response_in_pool
    argument, request_deserializer)
    │         └ <built-in method FromString of GeneratedProtocolMessageType object at 0x000001EBEA851308>
    └

> File "D:\virtual-environment\py3.7\lib\site-packages\grpc\_server.py", line 443, in _call_behavior
    response_or_iterator = behavior(argument, context)
                           │        │         └ <grpc._server._Context object at 0x000001EBEBF7C1C8>
                           │        └ 
                           └ <bound method GoodsServicer.GetAllCategorysList of <goods_srv.handler.goods.GoodsServicer object at 0x000001EBEB440D08>>

  File "D:\PythonProjects\shop\goods_srv\handler\goods.py", line 250, in GetAllCategorysList
    category_rsp.parentCategory = category.parent_category_id
    │            │                │        └ <peewee.ForeignKeyAccessor object at 0x000001EBEB13D508>
    │            │                └ <Category: 136678>
    │            └ <field property 'CategoryInfoResponse.parentCategory'>
    └ id: 136678
      name: "\347\214\252\350\202\211"

TypeError: <Category: 135200> has type Category, but expected one of: int, long
2022-05-23 15:14:46.020 | INFO     | __main__:on_exit:41 - 注销5273b9ca-da60-11ec-b28c-5a00e3ca956d服务
2022-05-23 15:14:46.267 | INFO     | __main__:on_exit:43 - 服务注销成功
